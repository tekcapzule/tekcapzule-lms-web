<!-- skeleton loader: start -->
<div class="course-wrapper skeleton-loader" *ngIf="showSkeletonLoader">
  <div class="banner skel-banner">
    <div class="col-9 pe-5">
      <h1 class="loading w-75"></h1>
      <p class="loading w-50"></p>
      <p class="loading w-50"></p>
    </div>
  </div>
  <div class="inner-container">
    <div class="col-9 me-5">
      <div class="d-flex justify-content-between">
        <section class="tasks" *ngFor="let n of [1, 2, 3]">
          <div class="col-lg-4">
            <div class="task-list rounded-2 p-3 task-bg" style="width: 311px">
              <div class=""></div>
              <div>
                <h3 class="mb-3 loading" style="width: 240px"></h3>
                <p class="loading w-50"></p>
              </div>
            </div>
          </div>
        </section>
      </div>
      <section class="mt-5">
        <div class="course-series">
          <div class="course-desc">
            <h3 class="loading w-75"></h3>
            <div class="d-flex justify-content-between">
              <section>
                <p class="loading" *ngFor="let n of [1, 2, 3, 4]"></p>
              </section>
              <section>
                <p class="loading" *ngFor="let n of [1, 2, 3, 4]"></p>
              </section>
            </div>
          </div>
        </div>
      </section>
      <section>
        <h2 class="loading w-75 p-0"></h2>
        <div *ngFor="let n of [1, 2]" class="course-series">
          <div class="course-card">
            <div class="course-img">
              <img class="loading w-100" />
            </div>
            <div class="course-info">
              <div class="primary-heading loading mb-3"></div>
              <div class="primary-heading loading mb-3"></div>
              <div class="primary-heading loading mb-3"></div>
            </div>
          </div>
          <div class="course-desc">
            <h3 class="loading"></h3>
            <p class="loading" *ngFor="let n of [1, 2, 3, 4, 5]"></p>
          </div>
        </div>
      </section>
    </div>
    <div class="col-3 enroll-container">
      <div class="enroll-sec">
        <img class="loading w-100" />
        <div class="px-3 pt-3">
          <h3 class="loading mb-2 w-75"></h3>
          <!-- <h3 class="loading w-50"></h3> -->
          <div class="instructors">
            <h3 class="profile-name loading"></h3>
            <h3 class="loading w-50"></h3>
          </div>
        </div>
      </div>
      <div class="enroll-sec">
        <div class="icon-text px-3 pt-3">
          <div class="skel-badge loading me-4"></div>
          <div class="w-100">
            <h3 class="mb-2 loading w-75"></h3>
            <p class="loading mb-2 w-50"></p>
          </div>
        </div>
        <hr />
        <div class="icon-text px-3 pt-3">
          <div class="skel-badge loading me-4"></div>
          <div class="w-100">
            <h3 class="mb-2 loading w-75"></h3>
            <p class="loading mb-2 w-50"></p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- skeleton loader: end -->
<ng-container *ngIf="!showSkeletonLoader">
  <div *ngIf="course">
    <app-spinner></app-spinner>
    <div class="course-wrapper">

      <div class="banner">
        <div class="col-9 pe-5">
          <h1>
            {{ course.title }}
            <span class="rating">4.5 <span class="star-icon"></span></span>
          </h1>
          <p>{{ course.summary }}</p>
          <p class="gray-txt fw-normal">Taught in English</p>
          <ul class="banner-pills">
            <li *ngFor="let tag of course.tags">{{ tag }}</li>
          </ul>
        </div>
      </div>
      <div class="inner-container">
        <div class="col-9 me-5">
          <section class="tasks">
            <div class="row">
              <div class="col-lg-4">
                <div class="task-list rounded-2 p-3 task-bg">
                  <div class="reading-icon"></div>
                  <div>
                    <h3 class="mb-3">{{ course.courseLevel }} level</h3>
                    <p>Recommended experience</p>
                  </div>
                </div>
              </div>
              <div class="col-lg-4">
                <div class="task-list rounded-2 p-3 task-bg">
                  <div class="clock-icon-md"></div>
                  <div>
                    <h3 class="mb-3">3 months at 10 hours a week</h3>
                    <p>Recommended experience</p>
                  </div>
                </div>
              </div>
              <div class="col-lg-4">
                <div class="task-list rounded-2 p-3 task-bg">
                  <div class="way-icon"></div>
                  <div>
                    <h3 class="mb-3">Flexible schedule</h3>
                    <p>Learn at your own pace</p>
                  </div>
                </div>
              </div>
            </div>
          </section>
          <!-- What you will learn section start-->
          <section class="mt-5">
            <div class="course-series">
              <div class="course-desc">
                <h3>What you’ll learn</h3>
                <ul class="learning-desc">
                  <li *ngFor="let obj of course.learningObjectives">
                    {{obj}}
                  </li>
                </ul>
              </div>
            </div>
            <!--div>
              <h2>{{ course.modules.length }} modules in this course</h2>
              <div class="course-module accordion accordion-flush mb-5">
                <app-faq [faqs]="course.faqs"></app-faq>
              </div>
            </!--div-->
          </section>
          <!-- What you will learn section End-->
          <!--section>
            <h2>Specialization - 5 course series</h2>
            <div *ngFor="let modules of course.modules" class="course-series">
              <div class="course-card">
                <div class="course-img">
                  <img alt="course thumbnail" [src]="modules.coverImageUrl" />
                </div>
                <div class="course-info">
                  <div class="primary-heading pb-0">{{ modules.title }}</div>
                  <div class="course-status">
                    <label
                      ><span class="rounded video-icon"></span
                      ><span class="fw-bold">{{ modules.chapters.length }}</span>
                      videoes</label
                    >
                    <label
                      ><span class="rounded notes-icon"></span
                      ><span class="fw-bold">{{ modules.duration }} min</span> of
                      reading</label
                    >
                    <label
                      ><span class="rounded notes-icon"></span
                      ><span class="fw-bold">{{ modules.quiz }}</span> Quiz</label
                    >
                    <label
                      ><span class="rounded notes-icon"></span
                      ><span class="fw-bold">{{ modules.assement }}</span
                      >Assessment</label
                    >
                  </div>
                </div>
                <div class="course-footer">
                  <div>Course</div>
                </div>
              </div>
              <div class="course-desc">
                <h3>What you’ll learn</h3>
                <ul>
                  <li *ngFor="let obj of modules.objective">{{ obj }}</li>
                </ul>
              </div>
            </div>
          </!--section-->
          <section>
            <h2>Frequently asked questions</h2>
  
            <div class="accordion accordion-flush mb-5 box-shadow">
              <app-faq [faqs]="course.faqs"></app-faq>
            </div>
          </section>
        </div>
        <div class="col-3 enroll-container">
          <div class="enroll-sec">
            <img
              src="../../assets/courses/courses-thumbnail-5.png"
              class="w-100"
              alt="course thumbnail"
            />
            <div class="px-3 pt-3">
              <button *ngIf="isUserLoggedIn && !isCourseEnrolled" class="btn secondary-btn w-100 mb-4"
                (click)="onEnrollCourse()">
                Enroll
              </button>
              <button *ngIf="isUserLoggedIn && isCourseEnrolled" class="btn secondary-btn w-100 mb-4"
                (click)="onStartCourse()">
                Start
              </button>
              
              <h3>Instructors</h3>
              <div class="instructors">
                <h3 class="profile-name">
                  {{ course.author.split(' ')[0].charAt(0) }}
                  {{
                    course.author.split(' ').length > 1
                      ? course.author.split(' ')[1].charAt(0)
                      : ''
                  }}
                </h3>
            
                <h4>{{ course.author }}</h4>
              </div>
            </div>
          </div>
          <div class="enroll-sec">
            <div class="icon-text px-3 pt-3">
              <div class="badge-icon me-4"></div>
              <div>
                <h3 class="mb-2">Earn Badge and Credit</h3>
                <p>You earn 10 credit points when you complete this course</p>
              </div>
            </div>
            <hr />
            <div class="icon-text px-3 pt-3">
              <div class="certificate-icon me-4"></div>
              <div>
                <h3 class="mb-2">Certificate of Completion</h3>
                <p>Share it on social media</p>
              </div>
            </div>
          </div>
          <div class="enroll-sec">
            <h3>Leave your ratings</h3>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-container>
